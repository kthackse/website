{% load static app_tags %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <style id="page-style">
            @page {
                size: A4;
                margin: 0 0;
                background-color: #f5f5f5;
            }
            @font-face {
                font-family: "Avenir";
                src: url({% site_url %}{% static "fonts/AvenirLTStd-Light.woff" %}) format('woff');
                font-weight: 100;
                font-style: normal;
            }
            @font-face {
                font-family: "Avenir";
                src: url({% site_url %}{% static "fonts/AvenirLTStd-LightOblique.woff" %}) format('woff');
                font-weight: 100;
                font-style: oblique;
            }
            @font-face {
                font-family: "Avenir";
                src: url({% site_url %}{% static "fonts/AvenirLTStd-Book.woff" %}) format('woff');
                font-weight: 200;
                font-style: normal;
            }
            @font-face {
                font-family: "Avenir";
                src: url({% site_url %}{% static "fonts/AvenirLTStd-BookOblique.woff" %}) format('woff');
                font-weight: 200;
                font-style: oblique;
            }
            @font-face {
                font-family: "Avenir";
                src: url({% site_url %}{% static "fonts/AvenirLTStd-Roman.woff" %}) format('woff');
                font-weight: 400;
                font-style: normal;
            }
            @font-face {
                font-family: "Avenir";
                src: url({% site_url %}{% static "fonts/AvenirLTStd-Oblique.woff" %}) format('woff');
                font-weight: 400;
                font-style: oblique;
            }
            @font-face {
                font-family: "Avenir";
                src: url({% site_url %}{% static "fonts/AvenirLTStd-Medium.woff" %}) format('woff');
                font-weight: 600;
                font-style: normal;
            }
            @font-face {
                font-family: "Avenir";
                src: url({% site_url %}{% static "fonts/AvenirLTStd-MediumOblique.woff" %}) format('woff');
                font-weight: 600;
                font-style: oblique;
            }
            @font-face {
                font-family: "Avenir";
                src: url({% site_url %}{% static "fonts/AvenirLTStd-Heavy.woff" %}) format('woff');
                font-weight: 800;
                font-style: normal;
            }
            @font-face {
                font-family: "Avenir";
                src: url({% site_url %}{% static "fonts/AvenirLTStd-HeavyOblique.woff" %}) format('woff');
                font-weight: 800;
                font-style: oblique;
            }
            @font-face {
                font-family: "Avenir";
                src: url({% site_url %}{% static "fonts/AvenirLTStd-Black.woff" %}) format('woff');
                font-weight: 900;
                font-style: normal;
            }
            @font-face {
                font-family: "Avenir";
                src: url({% site_url %}{% static "fonts/AvenirLTStd-BlackOblique.woff" %}) format('woff');
                font-weight: 900;
                font-style: oblique;
            }
            body, .body-wrap {
                width: 100% !important;
                height: 100%;
                font-family: "Avenir", sans-serif;
                font-size: 10px;
                margin: 0;
                background-color: #f5f5f5;
            }
            .container {
                display: block !important;
                clear: both !important;
                margin: 0 auto !important;
                border-spacing: 0;
            }
            .container table {
                width: 100% !important;
                border-collapse: collapse;
            }
            .container tbody, .container tr, .container td {
                width: 100%;
                display: block;
            }
            .container .masthead {
                width: 100%;
                padding: 20px 0;
                background-color: #003984;
                color: #ffffff;
            }
            .container .masthead img {
                height: 40px;
                margin-right: 10px;
            }
            .container .masthead h1 {
                text-transform: uppercase;
                margin-top: 3px;
                margin-bottom: 6px;
                font-size: 16px;
                font-weight: 900;
            }
            .container .masthead h2 {
                text-transform: uppercase;
                margin: 0;
                font-size: 12px;
            }
            .container .masthead h3 {
                margin: 0;
                font-size: 6px;
                font-weight: 100;
            }
            .container .masthead .content-row {
                width: 90% !important;
            }
            .container .content-row {
                width: 90%;
                display: inline-block;
                position: relative;
                padding: 0 5%;
            }
            .container .content-row .content-30 {
                width: 30%;
                float: left;
            }
            .container .content-row .content-60 {
                width: 60%;
                float: right;
            }
            .container .content-row .content-50 {
                width: 50%;
                float: left;
            }
            .text-right {
                text-align: right;
            }
            .container .details {
                padding: 50px 5%;
                width: 90%;
                background-color: #3F7ED1;
                color: rgba(255, 255, 255, 0.9);
            }
            .container .details .details-company img {
                height: 40px;
            }
            .container .details .details-company {
                line-height: 1.25;
            }
            .container .details .details-company h1 {
                margin-top: 5px;
                margin-bottom: 2.5px;
            }
            .container .details .details-company h3 {
                margin-top: 0;
                margin-bottom: 5px;
            }
            .container .details .details-company p {
                margin: 0;
            }
            .container .details .details-invoice {
                line-height: 1.25;
            }
            .container .details .details-invoice h2 {
                margin-top: 0;
                margin-bottom: 10px;
            }
            .container .details .details-invoice p {
                margin: 2.5px 0;
            }
            .container .items {
                padding: 50px 5%;
                width: 90%;
            }
            .container .items tbody, .container .items tr {
                width: 100% !important;
                display: inline-block !important;
            }
            .container .items .description {
                width: 65%;
                display: inline-block;
                margin: 0;
            }
            .container .items .price {
                width: 30%;
                display: inline-block;
                margin: 0;
                float: right;
                text-align: right;
            }
            .text-upper {
                text-transform: uppercase;
            }
            .container .items p {
                line-height: 1;
                margin: 5px 0;
                color: #003984;
            }
            .container .items .titles {
                font-size: 12px;
                font-weight: 800;
                border-bottom: 0.5px solid #003984;
                padding-bottom: 5px;
                margin-bottom: 7.5px;
            }
            .container .items .totals {
                font-size: 12px;
                font-weight: 800;
                margin-bottom: 5px;
            }
            .container .organisation {
                padding: 50px 5%;
                width: 90%;
                position: absolute;
                bottom: 0;
                background-color: #1e5cb1;
                color: rgba(255, 255, 255, 0.9);
            }
            .container .organisation .details-invoice {
                line-height: 1.25;
            }
            .container .organisation .details-invoice h3 {
                margin-top: 0;
                margin-bottom: 5px;
                font-size: 14px;
            }
            .container .organisation .details-invoice p, .container .organisation .details-organisation p {
                margin: 2.5px 0;
            }
            .container .organisation .details-organisation h4 {
                margin-top: 0;
                margin-bottom: 5px;
                font-size: 12px;
            }
            .container .organisation .details-organisation {
                position: fixed;
                bottom: 50px;
                right: 10%;
            }
        </style>
    </head>
    <body>
        <table class="body-wrap container">
            <tr>
                <td class="masthead">
                    <div class="content-row">
                        <div class="content-30">
                            <img src="{% site_url %}/files/{{ invoice.company_event.event.logo_white_header }}">
                            <div style="display: inline-block; line-height: 110%; margin-top: 5px; position: absolute; text-transform: uppercase; font-size: 16px;">
                                <div>
                                    <b>{{ invoice.company_event.event.name }}</b> {{ invoice.company_event.event.starts_at | date:"Y" }}
                                </div>
                                <div style="font-size: 12px; line-height: 125%;">
                                    {{ invoice.company_event.event.city }}, {{ invoice.company_event.event.country }}
                                </div>
                            </div>
                        </div>
                        <div class="content-60 text-right">
                            <h1>Invoice #{{ invoice.code }}</h1>
                            <h3>Retrieved on {% now "Y-m-d H:i:s" %}</h3>
                        </div>
                    </div>
                </td>
                <td class="details">
                    <div class="content-row">
                        <div class="content-50 details-invoice">
                            <p>Responsible</p>
                            <h2>{{ invoice.responsible_company }}</h2>
                            <p>Reference: {% if invoice.code_invoice_company %}{{ invoice.code_invoice_company }}{% else %}{{ invoice.code }}{% endif %}</p>
                            <p>Created: {{ invoice.created_at | date:"Y-m-d H:i:s" }}</p>
                            {% if invoice.updated_at.date != invoice.created_at.date %}
                                <p>Updated: {{ invoice.updated_at | date:"Y-m-d H:i:s" }}</p>
                            {% endif %}
                            {% if invoice.date_due %}
                                <p><b>Due date: {{ invoice.date_due | date:"Y-m-d" }}</b></p>
                            {% endif %}
                        </div>
                        <div class="content-5 text-right details-company">
                            <img src="{% site_url %}/files/{{ invoice.company_event.logo }}">
                            <h1>{{ invoice.company_event.company.org_name }}</h1>
                            {% if invoice.company_event.company.organisation_number %}
                                <h3>{{ invoice.company_event.company.organisation_number }}</h3>
                            {% endif %}
                            {% if invoice.company_event.company.address_1 %}
                                <p>{{ invoice.company_event.company.address_1 }}</p>
                            {% endif %}
                            {% if invoice.company_event.company.address_2 %}
                                <p>{{ invoice.company_event.company.address_2 }}</p>
                            {% endif %}
                            {% if invoice.company_event.company.postcode and invoice.company_event.company.city %}
                                <p>{{ invoice.company_event.company.postcode }} {{ invoice.company_event.company.city }}</p>
                            {% endif %}
                        </div>
                    </div>
                </td>
                <td class="items">
                    <div class="content-row">
                        <table class="body-wrap container">
                            <tr class="titles">
                                <td class="description text-upper"><p>Description</p></td>
                                <td class="price text-upper"><p>Price</p></td>
                            </tr>
                            <tr>
                                <td class="description"><p>{% if invoice.description %}{{ invoice.description }}{% else %}{{ invoice.company_event.event }} {{ invoice.company_event.tier | company_tier }} Sponsorship{% endif %}</p></td>
                                <td class="price"><p>{{ invoice.amount | money }} {{ invoice.amount.currency }}</p></td>
                            </tr>
                            {% if invoice.vat > 0 %}
                                <tr>
                                    <td class="description"><p>{{ invoice.vat }}% VAT</p></td>
                                    <td class="price"><p>{% money_vat invoice.amount invoice.vat %} {{ invoice.amount.currency }}</p></td>
                                </tr>
                            {% endif %}
                            <tr class="totals">
                                <td class="description text-upper"><p>Total</p></td>
                                <td class="price"><p>{% money_total invoice.amount invoice.vat %} {{ invoice.amount.currency }}</p></td>
                            </tr>
                        </table>
                    </div>
                </td>
                <td class="organisation">
                    <div class="content-row">
                        <div class="content-50 details-invoice">
                            <h3>{{ hk_legal_name }}</h3>
                            <p>{{ hk_legal_organisation_name }}</p>
                            <p>{{ hk_legal_address_1 }}</p>
                            {% if hk_legal_address_2 %}
                                <p>{{ hk_legal_address_2 }}</p>
                            {% endif %}
                            <p>{{ hk_legal_postcode }} {{ hk_legal_city }}</p>
                            <p>Org-nr: {{ hk_legal_organisation_number }}</p>
                            <p>Bankgiro: {{ hk_legal_organisation_bankgiro }}</p>
                        </div>
                        <div class="content-5 text-right details-organisation">
                            <h4><b>{{ invoice.responsible_event }}</b></h4>
                            {% if invoice.responsible_event.phone %}
                                <p>{{ invoice.responsible_event.phone }}</p>
                            {% endif %}
                            <p>{{ invoice.responsible_event.email }}</p>
                            <p>{% site_url %}</p>
                        </div>
                    </div>
                </td>
            </tr>
        </table>
    </body>
</html>